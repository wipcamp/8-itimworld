/*!
 * froala_editor v2.1.1 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms
 * Copyright 2014-2016 Froala Labs
 */

!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c),c}:a(jQuery)}(function(a){"use strict";a.extend(a.FroalaEditor.DEFAULTS,{quickInsertButtons:["image","table","ul","ol","hr"],quickInsertTags:["p","div","h1","h2","h3","h4","h5","h6","pre","blockquote"]}),a.FroalaEditor.QUICK_INSERT_BUTTONS={image:{icon:"insertImage",callback:function(b){a(b).after('<input accept="image/*" name="quickInsertImage'+this.id+'" style="display: none;" type="file">');var c=this;a(b).next().on("change",function(){if(this.files){c.quickInsert.hide(),c.image.showInsertPopup();var a=c.popups.get("image.insert");c.position.forSelection(a),c.image.upload(this.files)}}),a(b).next().trigger("click")},requiredPlugin:"image",title:"Insert Image"},table:{icon:"insertTable",callback:function(){this.quickInsert.hide(),this.table.insert(2,2),this.undo.saveStep()},requiredPlugin:"table",title:"Insert Table"},ol:{icon:"formatOL",callback:function(){this.quickInsert.hide(),this.lists.format("OL"),this.undo.saveStep()},requiredPlugin:"lists",title:"Ordered List"},ul:{icon:"formatUL",callback:function(){this.quickInsert.hide(),this.lists.format("UL"),this.undo.saveStep()},requiredPlugin:"lists",title:"Unordered List"},hr:{icon:"insertHR",callback:function(){this.quickInsert.hide(),this.commands.insertHR(),this.undo.saveStep()},title:"Insert Horizontal Line"}},a.FroalaEditor.RegisterQuickInsertCommand=function(b,c){a.FroalaEditor.QUICK_INSERT_BUTTONS[b]=c},a.FroalaEditor.PLUGINS.quickInsert=function(b){function c(c){var d,e;d=c.offset().top-b.$box.offset().top-(j.outerHeight()-c.outerHeight())/2,e=0-j.outerWidth(),b.opts.iframe&&(d+=b.$iframe.offset().top-a(b.original_window).scrollTop()),j.css("top",d),j.css("left",e),j.data("tag",c),j.addClass("fr-visible")}function d(){var d=b.selection.element();b.node.isBlock(d)||(d=b.node.blockParent(d)),d&&b.node.isEmpty(d)&&b.node.isElement(d.parentNode)?d&&b.selection.isCollapsed()&&c(a(d)):e()}function e(){b.html.checkIfEmpty(),j.hasClass("fr-on")&&g(),j.removeClass("fr-visible fr-on"),j.css("left",-9999)}function f(c){c.preventDefault();var d=b.$box.find(".fr-qi-helper");if(j.hasClass("fr-on"))g();else{if(!d.length){for(var e=b.opts.quickInsertButtons,f='<div class="fr-qi-helper">',h=0,i=0;i<e.length;i++){var k=a.FroalaEditor.QUICK_INSERT_BUTTONS[e[i]];k&&(!k.requiredPlugin||a.FroalaEditor.PLUGINS[k.requiredPlugin]&&b.opts.pluginsEnabled.indexOf(k.requiredPlugin)>=0)&&(f+='<a class="fr-btn fr-floating-btn" role="button" title="'+b.language.translate(k.title)+'" tabindex="-1" data-cmd="'+e[i]+'" style="transition-delay: '+.025*h++ +'s;">'+b.icon.create(k.icon)+"</a>")}f+="</div>",d=a(f),b.$box.append(d),b.tooltip.bind(b.$box,".fr-qi-helper > a.fr-btn")}setTimeout(function(){d.css("top",parseFloat(j.css("top"))),d.css("left",parseFloat(j.css("left"))+j.outerWidth()),d.find("a").addClass("fr-size-1"),j.addClass("fr-on")},10)}}function g(){var a=b.$box.find(".fr-qi-helper");a.length&&(a.find("a").removeClass("fr-size-1"),j.removeClass("fr-on"),a.css("left",-9999))}function h(){j=a('<div class="fr-quick-insert"><a class="fr-floating-btn" role="button" tabindex="-1" title="'+b.language.translate("Quick Insert")+'"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z"/></svg></a></div>'),b.$box.append(j),b.tooltip.bind(b.$box,".fr-quick-insert > a.fr-floating-btn"),b.events.on("destroy",function(){j.html("").removeData().remove(),b.$box.find(".fr-qi-helper").remove()},!0),b.events.on("commands.before",e),b.events.on("commands.after",function(){b.popups.areVisible()||d()}),b.events.bindClick(b.$box,".fr-quick-insert > a",f),b.events.bindClick(b.$box,".fr-qi-helper > a.fr-btn",function(c){var d=a(c.currentTarget).data("cmd");a.FroalaEditor.QUICK_INSERT_BUTTONS[d].callback.apply(b,[c.currentTarget])})}function i(){return b.$wp?(b.opts.iframe&&b.$el.parent("html").find("head").append('<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">'),h(),b.popups.onShow("image.edit",e),b.events.on("mouseup",d),b.events.on("blur",e),b.events.on("keyup",d),void b.events.on("html.get",function(a){return a=a.replace(/<(div)((?:[\w\W]*?))class="([\w\W]*?)fr-qi-helper([\w\W]*?)"((?:[\w\W]*?))>((?:[\w\W]*?))<\/(div)>/g,"")})):!1}var j;return{_init:i,hide:e}}});